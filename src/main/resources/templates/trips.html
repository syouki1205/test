<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
	<meta charset="UTF-8" />
	<title>旅行一覧</title>
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">

	<style>
		/* 背景 */
		body {
			background: linear-gradient(to right, #f9f9f9, #eef5ff);
			font-family: "Segoe UI", Arial, sans-serif;
		}

		/* ページタイトル */
		h1 {
			text-align: center;
			margin-bottom: 30px;
			color: #333;
			font-weight: 600;
		}

		/* 並び替え部分 */
		.sort-buttons {
			text-align: center;
			margin-bottom: 20px;
		}

		/* テーブル装飾 */
		.table {
			background: #fff;
			border-radius: 10px;
			overflow: hidden;
			box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
		}

		.table th {
			background-color: #f0f4ff;
			color: #333;
			font-weight: 600;
		}

		.table tbody tr:hover {
			background-color: #f8fbff;
			transition: 0.3s;
		}

		/* ボタン */
		.btn {
			border-radius: 20px;
			padding: 5px 15px;
			font-size: 0.9rem;
		}

		.btn-danger {
			background-color: #dc3545;
			border: none;
		}

		.btn-danger:hover {
			background-color: #c82333;
		}

		/* ログアウトボタンを中央に */
		.logout-form {
			text-align: center;
			margin-top: 30px;
		}
	</style>
</head>

<body class="container mt-4">
	<h1>旅行一覧</h1>

	<!-- 並び替え -->
	<div class="sort-buttons mb-3">
		<span>並び替え: </span>
		<a th:href="@{/trips(sort='newest')}" class="btn btn-sm btn-outline-primary">新しい順</a>
		<a th:href="@{/trips(sort='rating')}" class="btn btn-sm btn-outline-primary">評価順</a>
	</div>

	<!-- 旅行追加 -->
	<div class="text-center mb-4">
		<a class="btn btn-primary" th:href="@{/trips/new}">＋ 旅行追加</a>
	</div>

	<!-- テーブル -->
	<table class="table table-bordered table-hover">
		<thead>
			<tr>
				<th>タイトル</th>
				<th>都道府県</th>
				<th>日付</th>
				<th>操作</th>
			</tr>
		</thead>
		<tbody>
			<tr th:each="trip : ${trips}">
				<td th:text="${trip.title}">タイトル</td>
				<td th:text="${trip.prefecture}">都道府県</td>
				<td th:text="${trip.date}">日付</td>
				<td>
					<a th:href="@{'/trips/' + ${trip.id}}" class="btn btn-sm btn-info">詳細</a>
					<a th:href="@{'/trips/' + ${trip.id} + '/edit'}" class="btn btn-sm btn-warning">編集</a>
					<form th:action="@{'/trips/' + ${trip.id} + '/delete'}" method="post" style="display:inline;">
						<button type="submit" class="btn btn-sm btn-danger"
							onclick="return confirm('削除してもよろしいですか？');">削除</button>
					</form>
				</td>
			</tr>
		</tbody>
	</table>

	<!-- ログアウト -->
	<div class="logout-form">
		<form th:action="@{/logout}" method="post" onsubmit="return confirm('本当にログアウトしますか？');">
			<input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />
			<button type="submit" class="btn btn-secondary">ログアウト</button>
		</form>
	</div>
</body>

</html>
